{% extends "base.html" %}
{% block head %}
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
<link rel="stylesheet" href="../static/styles.css">
<link href='../static/lib/main.css' rel='stylesheet' />
<script src='../static/lib/main.js'></script>
<script>
  var events = {{ schedules|safe }}

  document.addEventListener('DOMContentLoaded', function() {
    var calendarEl = document.getElementById('calendar');

    var calendar = new FullCalendar.Calendar(calendarEl, {
      headerToolbar: {
        left: 'prev,next today',
        center: 'title',
        right: 'dayGridMonth,timeGridWeek'
      },
      initialDate: '{{date}}',
      editable: true,
      businessHours: true,
      dayMaxEvents: true,
      events: events
    });

    calendar.render();
  });

</script>
{% endblock %}
{% block content %}
    <div class="container h-100">
        <div class="row justify-content-center mt-4">
            <div class="col-3 text-white  day-primary curved">
                <h2 class="mt-2 text-center">Dashboard</h2>
                <h4 class="mt-2 text-center">{{current_user.username}}</h2>
                <div class="row gap-1 justify-content-center">
                  <div class="col-10">
                    <h4 class="mt-4"><a href="{{ url_for('dashboard')}}" class="btn btn-outline-light w-100"><i class="bi bi-layout-text-window-reverse"></i> Dashboard</a></h4>
                    <h4 class="mt-4"><a href="{{ url_for('schedule')}}" class="btn btn-outline-light w-100"><i class="bi bi-calendar3"></i> Schedule</a></h4>
                    <h4 class="mt-4"><a href="{{ url_for('templates')}}" class="btn btn-outline-light w-100"><i class="bi bi-diagram-2"></i> Templates</a></h4>
                    <h4 class="mt-4"><a href="{{ url_for('tasks')}}" class="btn btn-outline-light w-100"><i class="bi bi-list-task"></i> Tasks</a></h4>
                  </div>
                </div>
            </div>
            <div class="col-1"></div>
            <div class="col-8 day-secondary curved">
              <div class="m-4" id='calendar'></div>
          </div>
        </div>
    </div>
{% endblock %}